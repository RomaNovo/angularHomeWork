<div class="container">
	<form [formGroup]= "emForm" (ngSubmit)='onSubmit(emForm)'>

		<div class="form-group"
			[class.danger]="emForm.get('email').errors?.asyncEmailValidator"
			[class.success]="!emForm.get('email').hasError('asyncEmailValidator') &&
			emForm.get('email').valid"
		>

			<label for="email">Email</label>

			<input type="email"
				id="email" 
				class="form-control"
				formControlName="email">

			 <span *ngIf="emForm.controls.email.pending"
			 			
			 >
			 	Check email..pending
			 </span>
			<!-- <span *ngIf="emForm.get('email').errors?.asyncEmailValidator">
				Enter correctly email
			</span> -->

			<span *ngIf="emForm.get('email').hasError('asyncEmailValidator')">
				Enter correctly email
			</span>

			
		</div>

		<button class="btn btn-primary" (click)="onSubmit()">Submit</button>

	</form>
</div>